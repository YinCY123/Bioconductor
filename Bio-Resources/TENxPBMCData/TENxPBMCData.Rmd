---
title: "TENxPBMCData"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Introduction  
The `TENxPBMCData` package provides a R/Bioconductor resource for representing and manipulating nine different single-cell RNA-seq (scRNA-seq) data sets on peripheral blood mononuclear cells (PBMC) generated by 10X Genomics.  

1. pbmc68k  
2. frozen_pbmc_donor_a  
3. frozen_pbmc_donor_b  
4. frozen_pbmc_donor_c  
5. pbmc33k  
6. pbmc3k  
7. pbmc6k  
8. pbmc4k  
9. pbmc8k  

The number in the `dataset` title is roughly the number of cells in the experiment.  

This package makes extensive use of the · package to avoid loading the entire data set in memory, instead storing the counts on disk as a HDF5 file and loading subsets of the data into memory upon request.  

# Workflow  
## loading the data  
We use the `TENxPBMCData` function to download the relevant files from Bioconductor’s `ExperimentHub` web resource. This includes the HDF5 file containing the counts, as well as the metadata on the rows (genes) and columns (cells). The output is a single `SingleCellExperiment` object from the SingleCellExperiment package. This is equivalent to a `SummarizedExperiment` class but with a number of features specific to single-cell data.  

```{r}
library(TENxPBMCData)

tenx_pbmc4k <- TENxPBMCData(dataset = "pbmc4k")
tenx_pbmc4k
```

The first call to `TENxPBMCData()` may take some time due to the need to download some moderately large files. The files are then stored locally such that ensuing calls in the same or new sessions are fast. Use the dataset argument to select which `dataset` to download; values are visible through the function definition:  

```{r}
args(TENxPBMCData)
```

The count matrix itself is represented as a `DelayedMatrix` from the `DelayedArray` package. This wraps the underlying HDF5 file in a container that can be manipulated in R. Each count represents the number of unique molecular identifiers (UMIs) assigned to a particular gene in a particular cell.  

```{r}
counts(tenx_pbmc4k)[1:10, 1:5]
```
